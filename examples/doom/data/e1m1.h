// level.h - E1M1 level data (auto-generated)
// Do not edit manually - regenerate with extract_e1m1.py
//
// Uses parallel arrays instead of struct arrays due to jcc compiler
// limitations (no struct initializers supported).
#ifndef LEVEL_H
#define LEVEL_H

#define NUM_VERTEXES 467
#define NUM_SECTORS 85
#define NUM_SEGS 732
#define NUM_SUBSECTORS 237
#define NUM_NODES 236
#define ROOT_NODE 235

// Player 1 start position (16-bit: map units and 16-bit BAM)
#define PLAYER_START_X 1056
#define PLAYER_START_Y ((short)-3616)
#define PLAYER_START_ANGLE 0x3FFC

// =============================================================================
// Level Data Access Macros
//
// Level data uses parallel arrays due to jcc limitations.
// These macros provide cleaner access syntax.
// =============================================================================

// Seg vertex access (precomputed, eliminates vertex index indirection)
#define SEG_V1_X(i) seg_v1_x[i]
#define SEG_V1_Y(i) seg_v1_y[i]
#define SEG_V2_X(i) seg_v2_x[i]
#define SEG_V2_Y(i) seg_v2_y[i]

// Sector access
#define SECTOR_FLOOR(i)   sector_floor[i]
#define SECTOR_CEILING(i) sector_ceiling[i]
#define SECTOR_COLOR(i) sector_color[i] // Fill byte: 0x55/0xAA/0xFF

// Seg access
#define SEG_ANGLE(i)   seg_angle[i]

// Optimized seg→sector lookups (precomputed to avoid 3-hop indirection)
#define SEG_FRONTSECTOR(i) seg_frontsector[i]
#define SEG_BACKSECTOR(i)  seg_backsector[i]

// Subsector access
#define SSECT_SECTOR(i)   ssect_sector[i]
#define SSECT_FIRSTSEG(i) ssect_firstseg[i]
#define SSECT_NUMSEGS(i)  ssect_numsegs[i]

// Node access
#define NODE_X(i)  node_x[i]
#define NODE_Y(i)  node_y[i]
#define NODE_DX(i) node_dx[i]
#define NODE_DY(i) node_dy[i]

#define NODE_BBOX_R_TOP(i)   node_bbox_r_top[i]
#define NODE_BBOX_R_BOT(i)   node_bbox_r_bot[i]
#define NODE_BBOX_R_LEFT(i)  node_bbox_r_left[i]
#define NODE_BBOX_R_RIGHT(i) node_bbox_r_right[i]

#define NODE_BBOX_L_TOP(i)   node_bbox_l_top[i]
#define NODE_BBOX_L_BOT(i)   node_bbox_l_bot[i]
#define NODE_BBOX_L_LEFT(i)  node_bbox_l_left[i]
#define NODE_BBOX_L_RIGHT(i) node_bbox_l_right[i]

#define NODE_CHILD_R(i) node_child_r[i]
#define NODE_CHILD_L(i) node_child_l[i]

// =============================================================================
// Sector data
// =============================================================================
const short sector_floor[] = {
    0, 32, 0, 0, 0, -56, 32, 0, 8, 0, 0, 0, 0, -80, 8, 8,
    -136, -120, -104, -88, -56, -72, -56, -56, -8, 40, 56, 72, 0, 104, 0, 136,
    128, 136, 136, 104, 88, -8, 0, -16, 0, -8, 8, 24, 40, 40, 0, -56,
    -136, -120, -104, 16, 24, -16, -8, -48, -24, -48, -48, 96, -24, -48, 104, -88,
    -72, -56, -40, -24, -24, -48, 104, -24, -24, -24, -24, -24, -24, -136, -24, -24,
    -24, -24, -24, -24, -24
};

const short sector_ceiling[] = {
    72, 88, 144, 88, 0, 216, 88, 224, 152, 224, 96, 224, 96, 216, 192, 192,
    -40, 16, 16, 16, 24, 16, 64, 16, 224, 224, 224, 224, 128, 264, 264, 240,
    264, 240, 240, 192, 224, 120, 72, 200, 72, 120, 224, 224, 184, 184, 136, 24,
    -40, 48, 48, 152, 152, 72, 72, 176, 176, 176, 104, 176, 176, 176, 184, 48,
    48, 48, 48, 48, -24, 32, 184, 176, 104, 48, 48, 48, -24, -24, 72, 56,
    48, -24, 88, 72, 48
};

// Sector 3-coloring (vertex adjacency)
// Generated with greedy+local search algorithm
// Conflicts: 1 (sectors sharing vertex with same color)
const byte sector_color[] = {
    0x55, 0x55, 0xAA, 0x55, 0xAA, 0xAA, 0xAA, 0xFF, 0x55, 0xAA, 0xFF, 0x55, 0xFF, 0x55, 0xFF, 0xFF,
    0xFF, 0xAA, 0xFF, 0x55, 0xFF, 0xAA, 0x55, 0xFF, 0x55, 0xAA, 0xFF, 0xAA, 0xFF, 0xFF, 0xAA, 0x55,
    0xAA, 0x55, 0x55, 0xAA, 0xFF, 0xFF, 0x55, 0xAA, 0xAA, 0xAA, 0xAA, 0xFF, 0xFF, 0xAA, 0x55, 0xFF,
    0xAA, 0x55, 0xAA, 0xFF, 0x55, 0xAA, 0x55, 0xFF, 0x55, 0x55, 0xAA, 0xFF, 0xAA, 0xFF, 0xFF, 0x55,
    0xAA, 0xFF, 0x55, 0xAA, 0xFF, 0x55, 0x55, 0x55, 0xAA, 0xFF, 0xFF, 0xAA, 0x55, 0x55, 0x55, 0xFF,
    0xAA, 0xFF, 0x55, 0xAA, 0xAA
};

// =============================================================================
// Seg data
// =============================================================================
// Precomputed vertex coordinates (eliminates vertex index indirection)
const short seg_v1_x[] = {
    1552, 1664, 1552, 1664, 1664, 1600, 1600, 1600, 1664, 1344, 1472, 1472, 1536, 1536, 1472, 1536,
    1552, 1536, 1552, 1376, 1376, 1472, 1600, 1664, 1600, 1600, 1664, 1384, 1472, 2112, 2144, 2144,
    1992, 1992, 2144, 2176, 2144, 2176, 2176, 2112, 1992, 2112, 1992, 1992, 2176, 1992, 2112, 1992,
    1664, 1664, 1664, 1664, 1992, 1784, 1664, 1664, 1992, 1664, 1784, 1984, 1992, 1992, 1984, 1984,
    1784, 1784, 1792, 1792, 1784, 1792, 1984, 1984, 1792, 1792, 1984, 1784, 1664, 1664, 1664, 1664,
    1784, 1992, 1784, 1984, 1984, 1992, 1992, 1984, 1784, 1784, 1792, 1784, 1792, 1792, 1984, 1984,
    1792, 1792, 1984, 1664, 2176, 1920, 2040, 1664, 1856, 2176, 2176, 1664, 1520, 1672, 1896, 2040,
    2128, 2064, 1784, 1544, 1544, 2064, 1672, 1784, 2176, 1984, 1376, 1376, 1376, 1376, 1520, 1573,
    2128, 1376, 1896, 1344, 1376, 1344, 1376, 1344, 1376, 1376, 1344, 2176, 2048, 2176, 2112, 2048,
    2048, 2176, 2048, 2176, 2048, 2176, 2048, 2176, 2176, 2048, 2048, 2176, 1528, 1376, 1984, 1672,
    1984, 2176, 2048, 2048, 2176, 2048, 2176, 1984, 1984, 2016, 1984, 2048, 2176, 2176, 2176, 2048,
    2048, 256, 160, 192, 224, 256, 160, 256, 224, 192, 256, 256, 224, 224, 256, 224,
    192, 192, 224, 192, 160, 160, 192, 64, -640, -768, -640, -640, 64, -256, -192, -128,
    -256, -128, -256, -128, -256, -240, -208, -192, -208, -240, -256, -208, -192, -192, -208, -240,
    -256, -256, -240, -320, -256, -336, -640, -320, -336, -320, -336, -320, -256, -640, -640, -336,
    -640, -256, -128, -128, -256, -128, -256, -128, -256, -336, -336, -640, -336, -256, -64, 64,
    48, -64, 48, -64, -96, 64, 64, -128, -128, -88, -128, -96, 64, 64, -64, -88,
    -768, -768, -640, 160, 128, 128, 160, 160, 128, 160, 128, 128, 64, 128, 64, 128,
    64, 128, 928, 1184, 1184, 928, 928, 832, 896, 704, 896, 1184, 1216, 1344, 1344, 1344,
    1216, 1152, 1024, 1280, 960, 1088, 1088, 1024, 1088, 1024, 1216, 1184, 1344, 1344, 1344, 928,
    1184, 928, 928, 896, 928, 896, 896, 704, 928, 1184, 1184, 928, 1184, 1216, 1216, 1216,
    896, 704, 928, 1344, 1344, 832, 968, 1216, 704, 1216, 1248, 1344, 704, 512, 512, 512,
    680, 704, 680, 496, 512, 496, 496, 496, 496, 320, 256, 288, 320, 320, 288, 256,
    320, 320, 288, 288, 288, 256, 256, 288, 472, 448, 256, 496, 320, 320, 320, 256,
    256, 320, 448, 320, 256, 320, 320, 320, 256, 256, 2176, 2240, 2432, 2736, 2272, 2752,
    2736, 2752, 2736, 2736, 2736, 2736, 2488, 2240, 2240, 2240, 2240, 2197, 2240, 2208, 2176, 2632,
    2688, 2435, 2616, 2672, 2368, 2176, 2688, 2688, 2632, 2720, 2752, 2720, 2688, 2752, 2336, 2496,
    2496, 2496, 2336, 2176, 2336, 2176, 2208, 2176, 2208, 2208, 2304, 2304, 2208, 2496, 2496, 2496,
    2336, 2336, 2200, 2176, 2176, 2496, 2752, 2624, 2520, 2624, 2496, 2496, 2752, 2520, 2496, 2560,
    2560, 2496, 2560, 2496, 2752, 2752, 2944, 2944, 2752, 2944, 2944, 3104, 3264, 3352, 3312, 3352,
    3353, 3242, 3408, 3312, 3352, 3454, 3448, 3352, 3448, 3472, 3264, 3072, 3104, 2976, 2752, 2752,
    2752, 2752, 2976, 3112, 2816, 2944, 2752, 2944, 3047, 3215, 3280, 2984, 2887, 3136, 3112, 2984,
    2816, 3280, 3136, 3472, 3400, 3304, 3400, 3408, 3472, 3048, 3304, 3048, 3008, 3304, 3320, 3556,
    3552, 3552, 3680, 3808, 3738, 3584, 3496, 3360, 3345, 3648, 3672, 3456, 3416, 2784, 2752, 2752,
    2784, 2816, 2784, 2784, 2816, 2848, 2816, 2816, 2848, 2880, 2848, 2848, 2880, 3072, 2944, 2944,
    2944, 2880, 2880, 2912, 2912, 2944, 2912, 2944, 2912, 3520, 3328, 3328, 3512, 3520, 3520, 3360,
    3200, 3328, 3328, 3304, 3200, 3304, 3520, 3584, 3520, 3536, 3584, 3536, 3680, 3584, 3584, 3616,
    3680, 3744, 3680, 2752, 3048, 2880, 2752, 2944, 2960, 2752, 2960, 2752, 2880, 2752, 2944, 2912,
    3104, 2912, 3104, 3104, 3104, 2912, 3104, 2944, 2912, 3072, 2688, 2816, 2856, 2856, 2688, 2856,
    2856, 2912, 2888, 2912, 2888, 2888, 2888, 2856, 2888, 2888, 2888, 2888, 2856, 3200, 3160, 3160,
    3328, 3328, 3160, 3104, 3160, 3128, 3104, 3128, 3128, 3128, 3160, 3128, 3128, 3128, 3128, 3160,
    3072, 2944, 3072, 2944, 2944, 3072, 3072, 3072, 2944, 2944, 3072, 2944, 3072, 2240, 2368, 2368,
    2344, 2264, 2240, 2264, 2344, 2240, 2240, 2368, 2589, 2912, 3072, 2944, 3072, 2976, 2992, 3040,
    3072, 3024, 3024, 2944, 2944, 3024, 2944, 2992, 2992, 3024, 3024, 2992, 2976, 3040, 3040, 2976,
    3040, 2976, 3040, 2976, 3040, 2912, 3104, 2912, 2912, 2912, 2976, 3024, 3104, 3104, 3024, 2912,
    3024, 2992, 2912, 2992, 2992, 3024, 3024, 2992, 3040, 2976, 2976, 3040
};

const short seg_v1_y[] = {
    -2560, -2560, -2432, -2432, -2368, -2368, -2048, -2112, -2112, -2486, -2432, -2560, -2432, -2560, -2432, -2560,
    -2432, -2432, -2560, -2959, -2944, -2880, -2624, -2816, -2816, -2752, -2624, -2592, -2560, -2304, -2560, -2304,
    -2560, -2312, -2304, -2560, -2560, -2304, -2752, -2592, -2632, -2560, -2592, -2112, -2272, -2272, -2272, -2304,
    -2368, -2552, -2432, -2392, -2552, -2312, -2232, -2112, -2232, -2312, -2232, -2304, -2312, -2232, -2232, -2240,
    -2232, -2240, -2240, -2312, -2312, -2304, -2312, -2240, -2240, -2304, -2304, -2752, -2752, -2560, -2624, -2600,
    -2552, -2752, -2632, -2624, -2552, -2632, -2552, -2560, -2552, -2560, -2560, -2632, -2632, -2624, -2632, -2560,
    -2560, -2624, -2624, -2048, -2112, -2920, -3144, -2880, -2880, -2752, -2816, -2752, -3168, -3104, -3104, -3144,
    -3272, -3408, -3448, -3384, -3384, -3408, -3104, -3448, -3648, -3648, -3200, -3360, -3264, -3648, -3168, -3648,
    -3272, -3104, -3104, -3360, -3264, -3264, -3360, -3200, -3104, -3200, -3104, -4064, -3904, -3904, -4032, -3920,
    -3904, -3872, -3872, -3904, -3872, -3840, -3840, -3872, -3808, -3840, -3808, -3840, -3680, -3648, -3648, -3744,
    -3776, -3776, -3808, -3776, -3808, -3680, -3680, -3648, -3680, -3680, -3776, -3680, -3776, -3680, -3704, -3776,
    -3704, -3456, -3264, -3264, -3264, -3328, -3008, -3200, -3200, -3200, -3072, -3264, -3200, -3264, -3200, -3264,
    -3200, -3264, -3200, -3264, -3200, -3264, -3200, -3648, -3648, -3520, -3520, -2816, -2816, -3136, -3216, -3120,
    -2874, -3120, -3136, -3136, -3120, -3264, -3264, -3248, -3200, -3200, -3248, -3264, -3248, -3216, -3200, -3200,
    -3216, -3248, -3264, -3296, -3216, -3168, -3296, -3296, -3168, -3168, -3296, -3168, -3120, -3120, -2944, -3120,
    -3168, -3344, -3613, -3328, -3344, -3328, -3328, -3344, -3328, -3296, -3575, -3520, -3344, -3589, -3136, -3392,
    -3392, -3136, -3072, -3328, -3120, -2944, -2816, -2851, -3136, -3136, -3344, -3344, -3520, -3648, -3328, -3328,
    -3496, -2944, -2944, -3456, -3264, -3008, -3200, -3264, -3200, -3200, -3264, -3200, -3072, -3456, -3392, -3200,
    -3072, -3264, -3392, -3360, -3392, -3360, -3392, -3552, -3360, -3552, -3392, -3392, -3392, -3360, -3552, -3360,
    -3392, -3648, -3648, -3552, -3648, -3648, -3680, -3680, -3648, -3648, -3360, -3104, -3264, -3200, -3104, -3104,
    -3360, -3360, -3360, -3104, -3104, -3360, -3104, -3360, -3104, -3072, -3104, -3072, -3072, -3072, -3104, -3072,
    -3072, -3104, -3072, -2880, -3104, -2944, -2880, -2880, -2944, -2880, -2528, -2880, -3104, -3328, -3160, -3136,
    -3104, -3360, -3360, -3304, -3304, -3160, -3160, -3304, -3136, -3264, -3264, -3264, -3328, -3200, -3200, -3136,
    -3264, -3200, -3200, -3264, -3264, -3200, -3264, -3200, -3392, -3456, -3392, -3328, -3392, -3392, -3328, -3328,
    -3392, -3008, -3008, -3136, -3008, -3072, -3136, -3072, -3072, -3136, -2920, -2920, -3112, -3112, -3008, -3360,
    -3112, -3112, -3360, -3360, -3648, -3648, -3744, -3648, -3776, -3648, -3776, -3648, -3648, -3680, -3648, -3792,
    -3920, -3920, -3792, -3920, -3968, -3920, -3776, -3920, -3792, -3904, -3776, -3904, -3776, -3904, -2112, -2112,
    -2496, -2520, -2560, -2112, -2272, -2304, -2560, -2560, -2304, -2304, -2304, -2560, -2560, -2688, -2560, -2752,
    -2592, -2752, -2752, -2592, -2048, -2112, -2784, -2784, -2560, -2784, -2560, -2665, -2560, -2688, -2688, -2112,
    -2496, -2048, -2048, -2496, -3584, -3360, -3536, -3648, -3584, -3669, -3536, -3552, -3616, -3568, -3496, -3592,
    -3601, -3370, -3432, -3496, -3568, -3496, -3520, -3568, -3520, -3520, -3616, -3648, -3552, -3072, -3048, -3296,
    -3112, -3048, -3072, -3360, -3232, -3536, -3360, -3536, -3626, -3404, -3320, -3200, -3160, -3072, -3360, -3200,
    -3232, -3320, -3072, -3432, -3152, -3040, -3152, -3432, -3432, -2944, -3040, -2880, -2902, -3040, -3040, -3567,
    -3552, -3392, -3392, -3264, -3144, -2880, -3032, -2880, -2939, -3264, -3032, -3032, -3152, -3776, -3904, -3776,
    -3904, -3776, -3904, -3776, -3904, -3776, -3904, -3776, -3904, -3776, -3904, -3776, -3904, -3648, -3776, -3904,
    -3968, -3904, -3776, -3904, -3776, -3904, -3776, -3776, -3904, -3904, -3744, -3968, -3574, -3584, -3840, -3648,
    -3968, -3744, -3968, -3968, -3744, -3744, -3904, -3840, -3840, -3840, -3904, -3904, -3904, -3904, -3840, -3776,
    -3546, -3808, -3552, -2784, -2880, -2880, -2800, -2656, -2656, -3048, -2930, -2912, -2912, -2560, -2656, -4160,
    -4352, -4160, -4128, -4160, -4352, -4384, -4544, -4544, -4352, -4544, -4128, -4128, -4352, -4544, -4544, -4160,
    -4384, -4544, -4160, -4352, -4352, -4320, -4192, -4160, -4352, -4320, -4192, -4160, -4352, -4128, -4160, -4384,
    -4544, -4128, -4352, -4384, -4544, -4352, -4160, -4320, -4160, -4192, -4352, -4160, -4352, -4192, -4320, -4160,
    -3968, -4000, -4000, -4000, -4016, -4000, -4016, -4032, -4032, -4032, -4016, -4016, -4032, -4096, -3968, -4096,
    -4096, -4096, -3968, -3968, -3968, -4096, -3968, -4096, -3968, -4128, -4600, -4608, -4608, -4608, -4600, -4608,
    -4544, -4544, -4600, -4592, -4544, -4592, -4600, -4592, -4592, -4600, -4592, -4600, -4632, -4608, -4632, -4608,
    -4632, -4648, -4648, -4632, -4672, -4672, -4672, -4840, -4800, -4736, -4672, -4840, -4840, -4864, -4848, -4864,
    -4864, -4848, -4848, -4840, -4840, -4848, -4840, -4848, -4648, -4672, -4648, -4672
};

const short seg_v2_x[] = {
    1552, 1552, 1664, 1664, 1600, 1600, 1664, 1600, 1664, 1472, 1472, 1472, 1536, 1472, 1536, 1536,
    1552, 1552, 1536, 1376, 1472, 1664, 1664, 1600, 1600, 1600, 1664, 1344, 1384, 2144, 2112, 2144,
    1992, 1992, 2176, 2144, 2144, 2176, 1992, 2176, 1992, 2112, 1992, 2176, 2112, 1992, 2112, 1992,
    1664, 1664, 1664, 1664, 1784, 1992, 1664, 1992, 1784, 1664, 1784, 1984, 1984, 1992, 1992, 1792,
    1984, 1784, 1792, 1784, 1784, 1984, 1792, 1984, 1984, 1792, 1792, 1664, 1664, 1664, 1664, 1664,
    1784, 1784, 1992, 1984, 1992, 1984, 1992, 1792, 1984, 1784, 1792, 1784, 1784, 1984, 1792, 1984,
    1984, 1792, 1792, 2176, 1664, 2176, 1896, 1856, 1920, 2176, 1664, 2176, 1672, 1896, 2040, 2128,
    2064, 1784, 1544, 1520, 1784, 2128, 1520, 2064, 1984, 1573, 1376, 1376, 1376, 1376, 1544, 1376,
    2040, 1376, 1672, 1344, 1376, 1376, 1344, 1344, 1376, 1344, 1376, 2112, 2176, 2176, 2048, 2048,
    2048, 2176, 2176, 2048, 2048, 2176, 2176, 2048, 2176, 2048, 2176, 2048, 1376, 1984, 1984, 1528,
    1672, 2176, 2048, 2176, 2048, 2016, 2048, 2176, 1984, 1984, 1984, 2176, 2048, 2176, 2176, 2048,
    2048, 160, 192, 224, 256, 256, 256, 224, 192, 160, 256, 224, 256, 224, 256, 192,
    224, 192, 224, 160, 192, 160, 192, -640, -768, -768, 64, 64, -640, -128, -208, -256,
    -128, -128, -256, -256, -128, -208, -192, -192, -240, -256, -240, -240, -208, -192, -192, -208,
    -240, -256, -256, -320, -256, -336, -640, -336, -320, -320, -336, -256, -336, -640, -256, -336,
    -640, -128, -256, -256, -256, -128, -128, -256, -320, -336, -640, -640, -256, -336, -64, 48,
    -64, 48, 64, -64, -128, -96, 64, 64, -88, -64, -96, 64, 64, -128, -88, -128,
    -768, -640, -640, 128, 160, 160, 128, 128, 160, 160, 128, 64, 128, 64, 128, 128,
    128, 64, 928, 1184, 928, 1184, 1184, 704, 896, 704, 928, 1216, 1216, 1216, 1280, 1344,
    1344, 1088, 960, 1152, 832, 1024, 1024, 1024, 1088, 1088, 1184, 1216, 1344, 1344, 1344, 1184,
    928, 928, 896, 928, 928, 896, 896, 704, 928, 1184, 928, 1184, 928, 1184, 1216, 1344,
    896, 704, 896, 1344, 1216, 968, 1216, 1344, 832, 1248, 1344, 1216, 704, 512, 512, 680,
    704, 680, 512, 496, 496, 512, 496, 496, 496, 320, 288, 320, 256, 288, 256, 320,
    288, 320, 320, 288, 256, 288, 256, 288, 448, 256, 320, 472, 320, 256, 320, 320,
    256, 448, 496, 320, 320, 256, 256, 320, 320, 256, 2240, 2272, 2736, 2736, 2432, 2736,
    2752, 2752, 2736, 2736, 2240, 2488, 2240, 2736, 2240, 2176, 2208, 2240, 2240, 2176, 2197, 2688,
    2672, 2616, 2632, 2589, 2435, 2240, 2720, 2632, 2688, 2688, 2752, 2688, 2752, 2720, 2496, 2496,
    2496, 2496, 2336, 2336, 2176, 2208, 2176, 2176, 2208, 2304, 2304, 2208, 2208, 2496, 2496, 2336,
    2336, 2200, 2176, 2336, 2496, 2176, 2624, 2752, 2752, 2520, 2520, 2496, 2624, 2496, 2496, 2560,
    2496, 2560, 2560, 2496, 2752, 2944, 2752, 2752, 2944, 2944, 3072, 3242, 3104, 3264, 3352, 3352,
    3352, 3280, 3312, 3408, 3312, 3448, 3352, 3448, 3472, 3512, 3072, 3047, 3264, 2816, 2976, 2752,
    2752, 3008, 2752, 2944, 3112, 2752, 2752, 3112, 2944, 3104, 2984, 3136, 2976, 2984, 2816, 3280,
    2887, 3215, 3304, 3408, 3472, 3400, 3304, 3472, 3454, 3304, 3136, 3048, 3048, 3320, 3345, 3552,
    3552, 3648, 3680, 3680, 3808, 3672, 3456, 3584, 3360, 3496, 3738, 3416, 3400, 2784, 2752, 2784,
    2752, 2816, 2784, 2816, 2784, 2848, 2816, 2848, 2816, 2880, 2848, 2880, 2848, 3072, 2944, 2944,
    2944, 2880, 2912, 2880, 2912, 2912, 2944, 2944, 2912, 3328, 3360, 3328, 3520, 3520, 3520, 3353,
    3200, 3328, 3304, 3200, 3304, 3328, 3520, 3584, 3536, 3584, 3536, 3520, 3584, 3584, 3616, 3556,
    3680, 3680, 3744, 2944, 2960, 2752, 2752, 2960, 3048, 2752, 2752, 2880, 2880, 2944, 2752, 3104,
    2912, 2912, 3104, 2912, 3104, 2912, 3072, 2912, 3104, 2944, 2816, 2856, 2856, 2688, 2688, 2856,
    2912, 2856, 2912, 2888, 2888, 2888, 2888, 2888, 2856, 2888, 2888, 2888, 2856, 3328, 3200, 3160,
    3160, 3328, 3160, 3160, 3104, 3104, 3128, 3128, 3128, 3128, 3128, 3160, 3128, 3128, 3128, 3160,
    3072, 2944, 2944, 3072, 2944, 3072, 2944, 3104, 3072, 2944, 3072, 3072, 2944, 2240, 2368, 2344,
    2264, 2240, 2264, 2344, 2368, 2176, 2240, 2368, 2368, 2944, 3072, 2944, 3040, 2944, 3024, 2976,
    3072, 3072, 3024, 2944, 3024, 2992, 2944, 2992, 3024, 2992, 3024, 2992, 2976, 3040, 2976, 3040,
    3040, 2976, 2976, 3040, 3104, 2976, 3104, 2912, 2912, 2912, 3040, 2992, 3104, 3024, 3024, 2912,
    2912, 3024, 2912, 2992, 3024, 2992, 3024, 2992, 3040, 2976, 3040, 2976
};

const short seg_v2_y[] = {
    -2432, -2560, -2432, -2560, -2368, -2112, -2048, -2048, -2368, -2432, -2560, -2432, -2560, -2560, -2432, -2432,
    -2560, -2432, -2560, -2944, -2880, -2880, -2624, -2816, -2752, -2624, -2752, -2880, -2592, -2304, -2560, -2560,
    -2552, -2304, -2304, -2560, -2304, -2560, -2752, -2592, -2592, -2592, -2560, -2112, -2272, -2232, -2304, -2272,
    -2312, -2432, -2392, -2368, -2552, -2312, -2112, -2112, -2232, -2232, -2312, -2240, -2312, -2312, -2232, -2240,
    -2232, -2232, -2304, -2312, -2240, -2304, -2312, -2304, -2240, -2240, -2304, -2752, -2624, -2552, -2600, -2560,
    -2632, -2752, -2632, -2560, -2552, -2632, -2632, -2560, -2552, -2552, -2624, -2560, -2632, -2624, -2632, -2624,
    -2560, -2560, -2624, -2048, -2112, -2920, -3104, -2880, -2920, -2816, -2816, -2752, -3104, -3104, -3144, -3272,
    -3408, -3448, -3384, -3168, -3448, -3272, -3168, -3408, -3648, -3648, -3104, -3264, -3200, -3360, -3384, -3648,
    -3144, -2959, -3104, -3264, -3360, -3264, -3360, -3104, -3200, -3200, -3104, -4032, -3904, -3920, -3920, -3904,
    -3872, -3904, -3872, -3904, -3840, -3872, -3840, -3872, -3840, -3808, -3808, -3840, -3648, -3648, -3776, -3680,
    -3744, -3808, -3776, -3776, -3808, -3680, -3680, -3648, -3648, -3776, -3680, -3680, -3776, -3704, -3776, -3704,
    -3680, -3456, -3264, -3264, -3264, -3392, -3008, -3200, -3200, -3200, -3136, -3264, -3200, -3200, -3264, -3264,
    -3200, -3200, -3264, -3264, -3200, -3200, -3264, -3648, -3520, -3496, -3648, -2816, -2944, -3136, -3200, -3120,
    -2851, -3136, -3120, -3136, -3120, -3264, -3248, -3216, -3200, -3216, -3264, -3264, -3264, -3248, -3216, -3200,
    -3200, -3216, -3248, -3168, -3248, -3296, -3168, -3296, -3168, -3296, -3168, -3136, -3120, -2944, -2874, -3168,
    -3120, -3344, -3589, -3328, -3328, -3344, -3328, -3344, -3296, -3344, -3520, -3296, -3344, -3575, -3328, -3392,
    -3328, -3072, -3072, -3136, -3120, -3120, -2944, -2816, -3136, -3136, -3344, -3520, -3648, -3613, -3328, -3328,
    -2944, -2816, -3520, -3456, -3264, -3008, -3200, -3264, -3200, -3264, -3200, -3072, -3008, -3392, -3264, -3264,
    -3200, -3392, -3360, -3392, -3392, -3360, -3392, -3552, -3392, -3360, -3392, -3392, -3360, -3392, -3552, -3552,
    -3360, -3648, -3648, -3648, -3552, -3648, -3680, -3648, -3680, -3648, -3360, -3104, -3360, -3264, -3200, -3104,
    -3360, -3104, -3360, -3104, -3360, -3104, -3360, -3104, -3072, -3104, -3104, -3072, -3072, -3072, -3072, -3104,
    -3104, -2944, -3072, -3104, -3072, -2880, -2880, -2880, -2944, -2528, -2486, -2880, -3360, -3304, -3136, -3104,
    -3104, -3360, -3328, -3160, -3304, -3160, -3304, -3328, -3160, -3200, -3264, -3264, -3328, -3200, -3200, -3136,
    -3264, -3264, -3200, -3200, -3264, -3200, -3200, -3264, -3456, -3456, -3392, -3392, -3328, -3392, -3392, -3328,
    -3328, -3008, -3136, -3072, -3008, -3072, -3136, -3136, -3072, -3072, -2920, -3008, -3112, -3360, -3112, -3360,
    -3112, -3360, -3112, -3648, -3648, -3744, -3776, -3648, -3648, -3648, -3680, -3648, -3776, -3680, -3648, -3920,
    -3920, -3792, -3792, -3968, -3920, -3968, -3904, -3792, -3776, -3920, -3904, -3776, -3776, -3904, -2112, -2496,
    -2520, -2560, -2272, -2112, -2272, -2304, -2560, -2304, -2560, -2304, -2560, -2560, -2304, -2752, -2688, -2752,
    -2560, -2752, -2752, -2592, -2048, -2112, -2784, -2560, -2560, -2688, -2560, -2560, -2784, -2688, -2665, -2496,
    -2496, -2048, -2112, -2112, -3360, -3536, -3584, -3584, -3536, -3648, -3648, -3370, -3552, -3616, -3568, -3568,
    -3592, -3320, -3496, -3432, -3496, -3520, -3568, -3520, -3520, -3574, -3648, -3626, -3616, -3232, -3072, -3112,
    -3048, -2902, -3048, -3536, -3360, -3360, -3296, -3360, -3536, -3552, -3200, -3072, -3072, -3200, -3232, -3320,
    -3160, -3404, -3040, -3432, -3432, -3152, -3040, -3432, -3496, -3040, -3072, -2944, -2880, -3040, -2939, -3552,
    -3392, -3264, -3546, -3392, -3264, -3032, -3032, -2880, -2880, -3032, -3144, -3152, -3152, -3904, -3776, -3776,
    -3904, -3904, -3776, -3776, -3904, -3904, -3776, -3776, -3904, -3904, -3776, -3776, -3904, -3968, -3669, -3776,
    -3904, -3776, -3776, -3904, -3904, -3904, -3776, -3904, -3776, -3968, -3648, -3744, -3584, -3840, -3904, -3601,
    -3744, -3968, -3968, -3968, -3744, -3744, -3840, -3904, -3840, -3840, -3904, -3904, -3904, -3840, -3776, -3567,
    -3552, -3904, -3808, -2656, -2930, -2800, -2784, -2656, -2880, -2912, -3048, -2912, -2880, -2656, -2784, -4160,
    -4352, -4128, -4160, -4160, -4384, -4352, -4544, -4544, -4352, -4544, -4128, -4160, -4384, -4544, -4128, -4352,
    -4384, -4544, -4160, -4352, -4320, -4192, -4160, -4160, -4352, -4352, -4320, -4192, -4160, -4128, -4128, -4352,
    -4544, -4544, -4160, -4384, -4544, -4352, -4160, -4352, -4192, -4320, -4352, -4160, -4320, -4160, -4192, -4352,
    -4000, -3968, -4000, -4000, -4000, -4016, -4016, -4128, -4032, -4016, -4032, -4016, -4032, -3968, -4096, -4096,
    -4096, -4096, -3968, -3968, -3968, -4064, -4096, -3968, -4096, -4032, -4608, -4600, -4608, -4608, -4600, -4608,
    -4600, -4544, -4592, -4544, -4544, -4592, -4592, -4600, -4592, -4600, -4600, -4592, -4608, -4632, -4632, -4608,
    -4648, -4632, -4648, -4632, -4672, -4672, -4840, -4800, -4736, -4672, -4672, -4840, -4864, -4864, -4840, -4848,
    -4864, -4848, -4840, -4848, -4840, -4848, -4848, -4840, -4672, -4648, -4648, -4672
};

const short seg_angle[] = {
    16384, -32768, 0, -16384, -32768, 16384, 0, 16384, -16384, 4223, -16384, 16384, -16384, -32768, 0, 16384,
    -16384, 0, -32768, 16384, 6133, 0, 0, -32768, 16384, 16384, -16384, -17823, -29130, 0, -32768, -16384,
    16384, 16384, 0, -32768, 16384, -16384, -32768, 0, 16384, -16384, 16384, 0, -32768, 16384, -16384, 16384,
    16384, 16384, 16384, 16384, -32768, 0, 16384, 0, -32768, 16384, -16384, 16384, -32768, -16384, 0, -32768,
    0, 16384, -16384, -32768, 16384, 0, -32768, -16384, 0, 16384, -32768, -32768, 16384, 16384, 16384, 16384,
    -16384, -32768, 0, 16384, 0, -32768, -16384, -32768, 0, 16384, -16384, 16384, -32768, 0, -32768, -16384,
    0, 16384, -32768, 0, -32768, 0, 29941, 0, -5826, -16384, -32768, 0, 4156, 0, -2826, -10101,
    -20971, -31287, 30049, 17538, -2718, 11796, -28611, 1480, -32768, -32768, 16384, 16384, 16384, 16384, -15229, -32768,
    22666, 16384, -32768, 16384, -16384, 0, -32768, 16384, -16384, -32768, 0, 27931, 0, -16384, 21798, 16384,
    16384, -16384, 0, -32768, 16384, -16384, 0, -32768, -16384, 16384, 0, -32768, 30603, 0, -16384, 28405,
    31701, -16384, 16384, 0, -32768, -32768, -32768, 0, 16384, -19739, 16384, 0, -32768, -16384, -16384, 16384,
    16384, -32768, 0, 0, 0, -16384, 0, -32768, -32768, -32768, -16384, -32768, 0, 16384, -16384, -32768,
    0, 16384, -16384, -32768, 0, 16384, -16384, -32768, 24576, 16384, -1875, 0, -30892, 0, 24576, -32768,
    1874, -16384, 16384, -32768, 0, 0, 8192, 16384, -32768, -24576, -8192, -32768, -24576, -16384, -8192, 0,
    8192, 16384, 24576, 16384, -16384, -16384, 16384, -32768, 0, -16384, 16384, 4836, -32768, 16384, 1874, -16384,
    16384, 0, 30893, -32768, 16384, -16384, 0, -32768, 27931, -16384, 30893, 16384, 0, 30893, -16384, -32768,
    27353, 5414, 0, 16384, -32768, -24079, -16384, 1880, 0, 0, 0, -8688, -16384, 30887, -32768, -32768,
    16384, 8192, -16384, -32768, 0, 0, -32768, -32768, 0, -16384, 16384, 21220, 8192, 24576, 11547, -16384,
    -11547, -21220, 16384, -16384, -32768, 0, 0, -32768, -16384, 16384, 0, 0, 16384, -30212, -32768, -16384,
    2555, -32768, -32768, -26056, 26056, -32768, -32768, 16384, -16384, 0, -32768, 0, -16384, -16384, -16384, 0,
    -32768, 16384, -32768, 0, -16384, 16384, -16384, 16384, 16384, -16384, -32768, 0, -32768, -32768, 16384, -2555,
    -16384, 16384, -32768, -16384, 30212, 4587, 0, 0, 0, 15438, 4223, -32768, -16384, 16384, 16384, 1963,
    0, -32768, 30804, 16384, -32768, 0, -16384, -16384, -16384, 16384, 0, 0, -32768, -32768, -32768, 0,
    -32768, -16384, 0, 16384, -32768, 0, 16384, -16384, -20126, -32768, 0, -20126, 16384, -32768, -16384, 0,
    16384, 0, -12641, 16384, 0, -32768, -32768, -16384, 0, 16384, 0, -12746, 0, -16384, -6011, -32768,
    0, -16384, 16384, -16384, -32768, -28915, -31429, 0, 16384, -32768, 19739, 0, -16384, -32768, 0, -12082,
    -32768, 6437, 0, -27299, 6437, -6711, -13828, 20685, 2902, -27931, -16384, 18939, 0, -32768, 0, -16384,
    -16384, -16384, 16384, 0, -32768, 0, -32768, 16384, -16384, 0, -16384, -32768, 16384, -16384, -16384, -32768,
    16384, -32768, -32768, 0, 0, -32768, -32768, 10969, 0, 24992, 0, 16384, -21798, -32768, 16384, -16384,
    -32768, 0, -16384, 16384, 16384, -7738, -30212, 29412, 2555, 16384, -7497, 9617, 28799, -27559, -11094, 16384,
    17863, 9605, -26634, 6133, 21673, -19161, -27931, 4836, 0, -9672, -31045, 25270, -3968, -24576, -1113, 16384,
    16384, 5384, 31654, -24333, -4257, 25029, 16384, 8434, 25270, -23153, 28750, 7300, 8192, -25467, 28510, -4017,
    8192, -23153, 1963, -32768, -13758, -8992, 23775, 0, -19161, -3742, -30804, -16384, 5384, 0, 13829, 19286,
    16384, 9672, -16384, -24576, -10875, -10875, -32768, 0, 13827, 22433, -10875, -19739, -32768, -16384, 16384, 0,
    -32768, -16384, 16384, 0, -32768, -16384, 16384, 0, -32768, -16384, 16384, 0, -32768, -16384, 16384, 16384,
    16384, 16384, 0, -32768, -16384, -32768, 0, -16384, 16384, -29412, 13028, 16384, -9672, -16384, -16384, 17864,
    16384, -16384, -32768, -32768, 0, 0, 16384, -16384, 0, 0, -32768, -32768, -32768, 16384, 11547, 19286,
    -16384, -22517, -13828, 6133, -27378, 26941, 16384, 0, -12479, 16384, -27385, 0, 16384, -4836, -26634, 0,
    -32768, 16384, -16384, -32768, -16384, 16384, -32768, -32768, 0, -32768, 0, -7037, -16384, -32768, 16384, -16384,
    0, -32768, 0, -32768, 16384, 16384, 16384, 0, -32768, -16384, -16384, -16384, 16384, 0, 7037, 16384,
    -32768, -16384, 16384, 0, -32768, -32768, 0, -16384, -16384, -16384, -32768, 0, 16384, 16384, 16384, -16384,
    -16384, 16384, -32768, 0, 16384, -16384, -32768, -13028, 0, 16384, -16384, 0, -32768, 16384, -16384, -32768,
    -32768, -32768, 0, 0, 0, 27931, -16384, 16384, -27292, 13028, -16384, 16384, -32768, -32768, 0, -32768,
    -16384, 0, 16384, 16384, 0, -32768, 16384, -16384, 0, -32768, -16384, 16384, 16384, -16384, -32768, 0,
    -16384, 16384, -32768, 0, 0, 0, -16384, 16384, 16384, 16384, 0, -32768, -16384, -32768, 16384, 16384,
    -32768, 0, 16384, -16384, 0, -32768, -16384, 16384, -16384, 16384, 0, -32768
};

// Seg→Sector Precomputed Lookups (always included)
// Direct lookup instead of 4-hop indirection: seg → linedef → sidedef → sector
// Cost: 2.9KB flash | Benefit: 10x reduction in memory traffic
const short seg_frontsector[] = {
    0, 0, 0, 0, 1, 1, 1, 1, 1, 2, 2, 3, 3, 3, 3, 4,
    4, 4, 4, 5, 5, 5, 6, 6, 6, 6, 6, 2, 2, 7, 7, 7,
    7, 7, 8, 8, 8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
    7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 7, 7, 7, 7, 7,
    7, 7, 7, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 12,
    12, 12, 12, 1, 1, 5, 5, 5, 5, 6, 6, 6, 13, 13, 13, 13,
    13, 13, 13, 13, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 14, 14, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 16,
    17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20,
    20, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23,
    23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 25, 25, 25, 25, 26,
    26, 26, 26, 27, 27, 27, 27, 28, 28, 28, 28, 28, 28, 29, 29, 30,
    30, 31, 31, 31, 31, 29, 29, 29, 29, 29, 29, 32, 32, 32, 32, 32,
    32, 32, 32, 29, 29, 30, 30, 33, 33, 33, 33, 29, 30, 30, 30, 30,
    30, 30, 30, 29, 34, 34, 34, 34, 29, 30, 30, 30, 30, 30, 29, 35,
    35, 35, 35, 35, 30, 30, 30, 30, 29, 29, 30, 30, 30, 30, 29, 29,
    28, 28, 28, 24, 24, 24, 24, 36, 36, 36, 36, 24, 24, 24, 24, 35,
    35, 35, 37, 37, 37, 37, 38, 38, 38, 38, 38, 38, 39, 39, 38, 38,
    38, 38, 38, 38, 38, 38, 40, 40, 40, 40, 39, 39, 39, 39, 39, 39,
    39, 39, 37, 37, 37, 37, 38, 38, 37, 37, 37, 37, 38, 38, 39, 39,
    38, 38, 38, 38, 38, 38, 38, 38, 38, 2, 2, 2, 41, 41, 41, 41,
    41, 41, 41, 41, 41, 41, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
    42, 42, 42, 42, 43, 43, 43, 43, 24, 24, 24, 24, 24, 44, 44, 44,
    44, 24, 24, 24, 24, 24, 45, 45, 45, 45, 5, 5, 5, 5, 5, 46,
    46, 46, 46, 5, 5, 47, 47, 47, 47, 5, 22, 22, 22, 22, 22, 48,
    48, 48, 48, 48, 48, 16, 49, 49, 49, 49, 50, 50, 50, 50, 7, 7,
    7, 7, 7, 7, 7, 51, 51, 51, 51, 52, 52, 52, 52, 7, 7, 7,
    7, 7, 7, 7, 1, 1, 53, 53, 54, 54, 54, 54, 54, 54, 54, 1,
    1, 1, 1, 1, 55, 55, 55, 56, 56, 56, 56, 57, 57, 57, 57, 58,
    58, 57, 57, 59, 59, 59, 59, 58, 58, 58, 60, 60, 60, 61, 61, 61,
    61, 60, 60, 61, 61, 61, 61, 60, 60, 60, 57, 57, 60, 60, 60, 60,
    60, 60, 57, 57, 57, 57, 62, 59, 59, 60, 60, 60, 60, 62, 62, 62,
    62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 63, 63, 63,
    63, 64, 64, 64, 64, 65, 65, 65, 65, 66, 66, 66, 66, 56, 56, 56,
    56, 67, 67, 67, 67, 68, 68, 68, 68, 58, 58, 58, 58, 58, 58, 58,
    69, 69, 69, 69, 69, 69, 70, 70, 70, 70, 70, 70, 62, 62, 62, 62,
    62, 62, 62, 71, 71, 71, 71, 71, 71, 71, 71, 71, 71, 53, 53, 72,
    72, 73, 73, 73, 74, 74, 74, 74, 74, 74, 74, 74, 74, 74, 74, 74,
    74, 74, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 74, 74, 74,
    74, 74, 74, 74, 74, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72,
    56, 56, 56, 75, 75, 75, 75, 73, 73, 76, 76, 76, 76, 77, 77, 77,
    77, 77, 77, 77, 77, 16, 16, 48, 48, 73, 78, 78, 78, 78, 78, 78,
    78, 78, 78, 78, 78, 78, 78, 78, 79, 79, 79, 79, 80, 80, 80, 80,
    81, 81, 81, 81, 82, 82, 82, 82, 82, 82, 82, 82, 82, 82, 82, 82,
    82, 82, 82, 82, 83, 83, 83, 83, 84, 84, 84, 84
};

const short seg_backsector[] = {
    4, -1, -1, 7, -1, -1, -1, -1, 7, -1, 3, 2, 4, -1, -1, 3,
    0, -1, -1, -1, -1, -1, -1, -1, -1, -1, 7, -1, -1, -1, -1, 8,
    11, 9, -1, -1, 7, 51, 6, -1, 11, -1, 11, 1, -1, 9, -1, 9,
    1, 0, -1, -1, 11, 9, 1, 1, 9, 1, 9, 10, 7, 7, 7, 10,
    7, 7, 10, 7, 7, 10, 7, 9, 9, 9, 9, 6, 6, 0, -1, -1,
    11, 6, 11, 12, 7, 7, 7, 12, 7, 7, 12, 7, 7, 12, 7, 11,
    11, 11, 11, -1, 7, -1, 13, -1, -1, -1, -1, 7, 5, 5, 5, 5,
    5, 5, 5, 5, 13, 13, 13, 13, 22, 20, 15, 14, -1, -1, 13, 20,
    13, -1, 13, 39, 5, -1, -1, 39, 5, -1, -1, -1, 17, -1, -1, -1,
    -1, -1, 18, 16, -1, -1, 19, 17, -1, -1, 21, 18, -1, 5, 22, -1,
    -1, -1, -1, 23, 19, -1, 23, 5, 20, -1, 20, 22, 21, -1, -1, -1,
    -1, -1, 27, 26, 25, 44, -1, 25, 26, 27, 45, 24, 24, 26, 43, 24,
    24, 27, 25, 24, 24, 36, 26, -1, -1, -1, 30, -1, 30, 31, 32, 31,
    28, -1, -1, 29, 30, 32, 32, 32, 32, 32, 32, 29, 29, 29, 29, 29,
    29, 29, 29, 33, 32, 33, 28, -1, -1, 29, 30, -1, -1, 28, 28, -1,
    28, 34, 28, 34, -1, -1, 29, 30, -1, -1, 28, 28, -1, 28, 35, -1,
    -1, -1, -1, 29, -1, -1, -1, 28, -1, -1, -1, -1, -1, 28, -1, -1,
    -1, -1, 30, -1, 36, -1, 36, 24, 24, 27, 35, 35, -1, -1, 35, 36,
    24, 24, -1, -1, 38, 39, 37, -1, -1, -1, -1, -1, -1, 38, -1, -1,
    39, -1, -1, -1, -1, 40, -1, -1, -1, 38, -1, -1, 14, -1, 15, 37,
    37, 37, -1, -1, 39, 38, 37, 41, -1, -1, 39, 38, 37, -1, -1, 38,
    -1, -1, -1, -1, 39, -1, -1, 2, -1, -1, -1, 38, 38, -1, -1, -1,
    -1, -1, -1, 24, -1, -1, 41, -1, -1, 42, 43, 42, 44, 42, 43, 45,
    24, 24, 24, 43, 24, 24, 25, 42, -1, -1, 44, -1, 44, 24, 24, 24,
    24, -1, -1, 45, -1, 45, 24, 24, 24, 24, -1, -1, -1, 46, -1, -1,
    -1, 61, 5, -1, 47, -1, -1, 5, 22, 22, -1, 5, 47, -1, 5, 49,
    -1, -1, -1, -1, -1, -1, 50, 48, -1, -1, 63, 49, -1, -1, 1, 1,
    -1, -1, -1, 1, -1, -1, -1, 8, 52, -1, -1, -1, 51, -1, 54, -1,
    -1, -1, -1, -1, -1, 7, -1, 54, -1, -1, -1, 7, 53, -1, 7, -1,
    -1, -1, -1, 7, -1, 61, 56, -1, 55, -1, 60, 60, 60, -1, 59, -1,
    -1, 60, 59, 57, 57, -1, 58, 59, -1, -1, -1, 56, 57, 60, 60, 46,
    -1, 71, 61, 60, 60, 55, 46, 61, 56, 57, 60, 60, 61, 57, 61, 57,
    61, 57, 60, 59, -1, 62, 57, 57, -1, -1, 57, -1, 71, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 64, 50, -1,
    -1, 65, 63, -1, -1, 66, 64, -1, -1, 67, 65, -1, -1, -1, -1, 68,
    -1, 66, -1, -1, 68, -1, -1, 56, 67, -1, -1, 69, -1, -1, 70, -1,
    -1, 58, -1, -1, -1, -1, 58, 62, -1, -1, -1, -1, -1, 70, -1, -1,
    -1, -1, -1, 53, 60, -1, -1, -1, -1, -1, 60, -1, -1, -1, 71, 73,
    74, -1, -1, 72, -1, -1, -1, -1, 72, 78, -1, -1, -1, -1, -1, 72,
    -1, -1, -1, -1, 72, 72, 72, -1, -1, 72, 72, 72, 74, -1, -1, -1,
    -1, -1, 72, -1, -1, -1, -1, 72, 72, 72, -1, -1, 72, 72, 72, 74,
    -1, -1, 75, 56, -1, -1, 76, -1, 76, -1, -1, 75, 73, 16, 48, -1,
    -1, -1, -1, -1, -1, -1, 77, 77, -1, -1, -1, -1, -1, -1, 79, 80,
    -1, 74, 79, -1, 74, 79, -1, 79, 78, 78, 78, 78, -1, -1, 81, 78,
    -1, -1, 84, 80, -1, -1, -1, -1, -1, -1, 84, 83, -1, -1, 83, -1,
    -1, 83, -1, 83, 82, 82, 82, 82, -1, -1, 81, 82
};

// =============================================================================
// Subsector data
// =============================================================================
const short ssect_sector[] = {
    0, 1, 2, 3, 4, 5, 6, 2, 2, 7, 8, 7, 7, 7, 7, 7,
    7, 7, 9, 9, 9, 9, 10, 7, 7, 11, 11, 11, 11, 12, 1, 5,
    5, 6, 13, 5, 5, 5, 5, 5, 5, 5, 14, 15, 16, 17, 18, 19,
    20, 20, 21, 22, 22, 23, 24, 24, 25, 26, 27, 28, 28, 29, 30, 31,
    29, 29, 29, 29, 29, 29, 32, 29, 30, 33, 29, 30, 30, 30, 29, 34,
    29, 30, 30, 29, 35, 30, 29, 30, 29, 28, 24, 24, 36, 24, 24, 35,
    37, 38, 38, 38, 38, 39, 38, 38, 40, 39, 37, 38, 37, 38, 38, 39,
    38, 38, 38, 38, 2, 41, 41, 24, 24, 24, 42, 43, 24, 24, 44, 24,
    24, 45, 5, 5, 5, 46, 5, 47, 5, 22, 22, 48, 48, 16, 49, 50,
    7, 7, 51, 52, 7, 7, 1, 53, 54, 54, 1, 55, 56, 56, 56, 57,
    58, 58, 57, 59, 58, 58, 60, 61, 60, 61, 60, 57, 60, 60, 57, 62,
    59, 60, 60, 62, 62, 62, 62, 62, 62, 62, 63, 64, 65, 66, 56, 67,
    68, 58, 58, 69, 70, 62, 62, 62, 62, 71, 71, 71, 53, 72, 73, 74,
    74, 74, 72, 72, 74, 74, 72, 72, 56, 75, 73, 76, 77, 16, 48, 73,
    78, 78, 78, 78, 79, 80, 81, 82, 82, 82, 82, 83, 84
};

const short ssect_firstseg[] = {
    0, 4, 9, 11, 15, 19, 22, 27, 28, 29, 34, 38, 41, 43, 46, 48,
    54, 57, 59, 63, 66, 69, 71, 75, 81, 83, 87, 90, 93, 95, 99, 101,
    103, 105, 108, 116, 117, 118, 119, 122, 128, 129, 131, 135, 139, 144, 148, 152,
    156, 159, 161, 165, 169, 171, 177, 182, 187, 191, 195, 199, 203, 205, 207, 209,
    213, 214, 215, 216, 217, 218, 219, 227, 229, 231, 235, 236, 239, 241, 243, 244,
    248, 249, 252, 254, 255, 260, 264, 266, 270, 272, 275, 277, 279, 283, 285, 287,
    290, 294, 295, 298, 299, 300, 302, 305, 310, 314, 322, 326, 328, 332, 333, 334,
    336, 338, 339, 344, 345, 348, 355, 358, 362, 365, 368, 372, 376, 379, 381, 385,
    388, 390, 394, 396, 398, 399, 403, 405, 409, 410, 413, 415, 419, 421, 422, 426,
    430, 435, 437, 441, 445, 449, 452, 454, 456, 461, 463, 468, 471, 473, 474, 475,
    479, 480, 481, 483, 487, 488, 490, 493, 497, 499, 503, 506, 508, 510, 514, 518,
    519, 521, 523, 525, 526, 527, 531, 533, 537, 539, 541, 545, 549, 553, 557, 561,
    565, 569, 575, 576, 582, 588, 590, 591, 593, 595, 601, 604, 605, 607, 609, 612,
    618, 624, 626, 631, 637, 643, 645, 650, 656, 659, 663, 665, 669, 677, 679, 681,
    682, 688, 691, 694, 696, 700, 704, 708, 716, 719, 722, 724, 728
};

const short ssect_numsegs[] = {
    4, 5, 2, 4, 4, 3, 5, 1, 1, 5, 4, 3, 2, 3, 2, 6,
    3, 2, 4, 3, 3, 2, 4, 6, 2, 4, 3, 3, 2, 4, 2, 2,
    2, 3, 8, 1, 1, 1, 3, 6, 1, 2, 4, 4, 5, 4, 4, 4,
    3, 2, 4, 4, 2, 6, 5, 5, 4, 4, 4, 4, 2, 2, 2, 4,
    1, 1, 1, 1, 1, 1, 8, 2, 2, 4, 1, 3, 2, 2, 1, 4,
    1, 3, 2, 1, 5, 4, 2, 4, 2, 3, 2, 2, 4, 2, 2, 3,
    4, 1, 3, 1, 1, 2, 3, 5, 4, 8, 4, 2, 4, 1, 1, 2,
    2, 1, 5, 1, 3, 7, 3, 4, 3, 3, 4, 4, 3, 2, 4, 3,
    2, 4, 2, 2, 1, 4, 2, 4, 1, 3, 2, 4, 2, 1, 4, 4,
    5, 2, 4, 4, 4, 3, 2, 2, 5, 2, 5, 3, 2, 1, 1, 4,
    1, 1, 2, 4, 1, 2, 3, 4, 2, 4, 3, 2, 2, 4, 4, 1,
    2, 2, 2, 1, 1, 4, 2, 4, 2, 2, 4, 4, 4, 4, 4, 4,
    4, 6, 1, 6, 6, 2, 1, 2, 2, 6, 3, 1, 2, 2, 3, 6,
    6, 2, 5, 6, 6, 2, 5, 6, 3, 4, 2, 4, 8, 2, 2, 1,
    6, 3, 3, 2, 4, 4, 4, 8, 3, 3, 2, 4, 4
};

// =============================================================================
// Node data
// =============================================================================
const short node_x[] = {
    1552, 1472, 1536, 1552, 1384, 1600, 1472, 1536, 2144, 2112, 2176, 2176, 2112, 1792, 1792, 1984,
    1984, 1784, 1992, 1784, 1792, 1792, 1984, 1984, 1784, 1784, 1992, 1992, 1664, 1920, 1664, 2176,
    1664, 1784, 2128, 1520, 2064, 1544, 2040, 1672, 1344, 1376, 2048, 2048, 2048, 1528, 2016, 2048,
    2048, 1984, 2048, 2176, 2040, 224, 192, 256, 160, -128, -256, -256, -240, -208, -192, -208,
    -240, -192, -336, -320, -256, -320, -336, -256, -128, -256, -336, -256, -256, -320, -64, -96,
    -64, -128, 48, -128, 64, -640, 160, 128, 64, 128, 128, 64, -640, 160, 1184, 896,
    928, 1184, 1344, 1184, 1152, 1344, 896, 928, 928, 1216, 1184, 896, 928, 832, 968, 1216,
    896, 928, 512, 288, 320, 256, 320, 320, 256, 320, 320, 320, 256, 496, 704, 256,
    1344, 2432, 2240, 2736, 2736, 2240, 2240, 2240, 2752, 2688, 2368, 2688, 2632, 2736, 2208, 2336,
    2336, 2336, 2304, 2176, 2624, 2624, 2520, 2496, 2176, 2944, 2944, 3352, 3352, 3448, 3408, 3312,
    3454, 3264, 2752, 3112, 2984, 3280, 2816, 2976, 3104, 3304, 3472, 3136, 3304, 3048, 3048, 3680,
    3648, 3496, 3552, 3400, 3472, 2944, 2752, 2784, 2848, 2816, 2912, 2944, 2880, 3328, 3328, 3584,
    3584, 3520, 3680, 3520, 3072, 3264, 2752, 2880, 2752, 2752, 2752, 2912, 3104, 2888, 2856, 2856,
    2912, 3128, 3104, 3160, 3104, 3072, 2944, 3072, 2240, 2589, 2368, 2944, 3200, 2992, 3024, 3024,
    2992, 3040, 3072, 2992, 2992, 3024, 3024, 3040, 3040, 3072, 3304, 2176
};

const short node_y[] = {
    -2432, -2432, -2432, -2560, -2592, -2816, -2880, -2560, -2304, -2592, -2560, -2272, -2304, -2304, -2240, -2240,
    -2304, -2232, -2232, -2312, -2624, -2560, -2560, -2624, -2632, -2552, -2552, -2632, -2112, -2920, -2880, -2752,
    -2624, -3448, -3272, -3168, -3408, -3384, -3144, -3104, -3264, -3200, -3904, -3840, -3872, -3680, -3680, -3680,
    -3776, -3648, -3808, -3648, -3144, -3264, -3264, -3200, -3264, -3120, -3136, -3248, -3200, -3200, -3248, -3264,
    -3264, -3216, -3168, -3296, -3120, -3168, -3168, -3136, -3328, -3344, -3296, -3328, -3344, -3296, -3136, -3120,
    -3136, -3344, -3392, -3120, -2816, -3520, -3200, -3264, -3392, -3200, -3264, -3520, -3520, -3264, -3392, -3360,
    -3392, -3392, -3360, -3360, -3648, -3552, -3360, -3360, -3072, -3072, -3072, -3072, -3104, -2944, -2880, -3072,
    -3104, -3360, -3328, -3264, -3200, -3264, -3264, -3392, -3392, -3328, -3072, -3136, -3136, -3304, -3552, -3328,
    -3360, -3112, -2920, -3112, -3648, -3776, -3648, -3776, -3360, -3920, -3968, -3776, -3792, -3648, -2304, -2272,
    -2560, -2592, -2560, -2112, -2784, -2784, -2560, -2112, -2920, -3648, -3536, -3592, -3568, -3520, -3432, -3496,
    -3496, -3616, -3048, -3360, -3200, -3320, -3232, -3072, -3552, -3040, -3432, -3072, -3040, -2880, -2944, -3392,
    -3264, -3032, -3392, -3152, -3520, -3536, -3360, -3776, -3776, -3776, -3776, -3776, -3776, -3744, -3968, -3840,
    -3840, -3840, -3546, -3584, -3648, -3616, -2912, -2880, -2784, -3048, -3776, -4160, -4352, -4352, -4384, -4352,
    -4160, -4320, -4384, -4384, -4128, -4000, -4032, -4016, -4096, -3968, -3968, -4000, -4128, -4592, -4592, -4600,
    -4600, -4632, -4608, -4840, -4848, -4848, -4840, -4672, -4648, -4544, -3968, -3776
};

const short node_dx[] = {
    112, 0, 0, 0, -40, 0, 192, -64, 0, 64, -32, -64, 32, 192, 0, -192,
    0, 0, -208, 208, 192, 0, -192, 0, 208, 0, -208, 0, 512, 256, 192, -512,
    0, -240, -64, 152, -280, -24, 88, 224, 32, 0, 128, 128, 128, -152, -32, -32,
    128, 0, 128, -192, -144, 0, 0, -32, 32, -128, 128, 16, -16, -32, 0, 16,
    32, -16, 0, 0, -80, 64, 16, 0, -128, 128, 0, -64, 0, -16, 0, -32,
    112, 32, -112, 0, -704, 0, -32, 32, 64, -64, 0, 0, 704, 0, -256, 0,
    0, 32, -128, 0, -64, -64, 0, 0, 256, -32, 0, 0, 0, 136, 248, 128,
    32, 256, 0, 0, -32, 32, 0, 0, 64, -64, -64, 0, 64, 0, 0, 0,
    0, 304, 32, 0, -496, -32, -64, 0, -16, -16, 248, 32, 56, -248, 0, -160,
    0, 0, -96, 320, -104, 128, 232, 0, 64, -192, -192, 0, -88, -96, -96, 40,
    -6, -160, 224, -168, 152, -296, 296, -160, 176, 96, -64, 168, 16, 0, 256, 0,
    -152, -40, 96, 72, 40, 128, 192, 0, 0, 0, 0, 0, 0, 32, 0, 0,
    32, 16, 0, 0, 0, -192, 128, -128, 192, 296, 0, 192, -192, 0, 56, 0,
    0, 0, 56, 0, 0, -128, 128, -128, 0, -221, 0, 0, 128, 0, -32, 0,
    32, -64, -32, 0, 32, 0, -32, 64, -64, -128, -104, 0
};

const short node_dy[] = {
    0, -128, -128, 128, -288, 64, 0, 0, -256, 0, 0, 0, 0, 0, -64, 0,
    64, -80, 0, 0, 0, -64, 0, 64, 0, -80, 0, 80, 0, 0, 0, 0,
    -128, 64, -136, 64, -40, 216, -128, 0, 0, 96, 0, 0, 0, 32, -96, 0,
    0, -128, 0, 0, 40, 64, 64, 0, 0, 0, 0, -16, -16, 0, 32, 16,
    0, 16, -128, 128, 0, 32, 0, 16, 0, 0, -48, 32, 16, 0, -192, 0,
    64, 0, 64, -16, -128, 576, 0, 0, 128, 128, 64, -128, -128, 64, 0, -32,
    32, 0, -32, -32, 0, 0, 256, 256, 0, 0, -32, -32, 32, 64, 0, -32,
    0, 0, 24, 64, 0, 0, 64, 64, 0, 0, 0, 64, 0, 144, 192, -64,
    96, 0, -88, -248, 0, 96, 0, 128, 0, 0, 176, -128, -128, -96, -256, 0,
    288, 32, 0, 0, 96, 224, 0, -384, 0, 64, -48, 24, -48, -48, -64, -72,
    -23, 64, -24, -176, 128, 120, -128, -160, 232, -112, 0, 32, 0, -64, -96, -154,
    232, 0, 128, -280, -54, -112, -176, -128, -128, -128, -128, 106, -128, 96, 224, -64,
    64, 0, -5, -256, -320, -32, 0, 80, 128, 168, -128, 0, 0, 32, 0, -32,
    32, -32, 0, 32, -32, 0, 0, 0, 128, -128, -128, 32, 0, -8, 0, 8,
    0, 0, 0, -8, 0, 8, 0, 0, 0, 0, 0, -32
};

// BBox: [top, bottom, left, right] for right child
const short node_bbox_r_top[] = {
    -2432, -2432, -2432, -2048, -2592, -2624, -2880, -2048, -2304, -2592, -2304, -2112, -2304, -2304, -2240, -2232,
    -2232, -2232, -2112, -2312, -2624, -2560, -2552, -2552, -2632, -2552, -2112, -2112, -2112, -2920, -2880, -2048,
    -2048, -3104, -3104, -3104, -3104, -3104, -3104, -3104, -3264, -2959, -3904, -3840, -3872, -3648, -3680, -3648,
    -3776, -3648, -3808, -2959, -2048, -3200, -3200, -3008, -3264, -2851, -3136, -3248, -3200, -3200, -3216, -3248,
    -3264, -2851, -3168, -3168, -2874, -3136, -3168, -2851, -3328, -3344, -3296, -3296, -3328, -2851, -3136, -2816,
    -3072, -3344, -2816, -2851, -2816, -2816, -3008, -3264, -3264, -3008, -3008, -2816, -3496, -3008, -3360, -3360,
    -3360, -3392, -3360, -3360, -3552, -3360, -3104, -3104, -3072, -3072, -3072, -2944, -3072, -2880, -2880, -2944,
    -3104, -3360, -3104, -3200, -3136, -3264, -3136, -3328, -3392, -3136, -3008, -3008, -3136, -3104, -2486, -2816,
    -2048, -3112, -2920, -2920, -3360, -3648, -3648, -3360, -2920, -3792, -3792, -3776, -3792, -2920, -2304, -2112,
    -2112, -2560, -2112, -2112, -2560, -2560, -2560, -2048, -2920, -3536, -3360, -3568, -3370, -3432, -3320, -3370,
    -3320, -3320, -3048, -3232, -3072, -3072, -3232, -2902, -3320, -3040, -3040, -3040, -3040, -2880, -2944, -3264,
    -3032, -2880, -3144, -2880, -2902, -3536, -3360, -3776, -3776, -3776, -3776, -3648, -3776, -3574, -3574, -3840,
    -3776, -3840, -3546, -3574, -3648, -2880, -2912, -2656, -2656, -2880, -2048, -4160, -4128, -4160, -4384, -4128,
    -4128, -4160, -4384, -4128, -4128, -3968, -4032, -3968, -3968, -3968, -3968, -3968, -4128, -4592, -4544, -4544,
    -4600, -4608, -4544, -4840, -4848, -4840, -4672, -4672, -4544, -3968, -2048, -2048
};

const short node_bbox_r_bot[] = {
    -2560, -2560, -2560, -2560, -2880, -2816, -2959, -2560, -2560, -2752, -2560, -2272, -2752, -2312, -2312, -2240,
    -2312, -2312, -2232, -2552, -2632, -2632, -2560, -2632, -2752, -2752, -2552, -2752, -2752, -3144, -3144, -2752,
    -2959, -3448, -3448, -3448, -3448, -3648, -3648, -3648, -3360, -3648, -4064, -3872, -4064, -3776, -3776, -3680,
    -3808, -3776, -4064, -3648, -3144, -3264, -3264, -3200, -3456, -3120, -3216, -3264, -3216, -3200, -3248, -3264,
    -3264, -3216, -3296, -3296, -3120, -3168, -3296, -3264, -3328, -3613, -3575, -3328, -3613, -3296, -3328, -3120,
    -3392, -3648, -3392, -3613, -2944, -3648, -3200, -3456, -3456, -3200, -3456, -3648, -3648, -3456, -3392, -3552,
    -3392, -3392, -3392, -3552, -3648, -3552, -3360, -3360, -3104, -3072, -3104, -3104, -3104, -3104, -3104, -3104,
    -3360, -3680, -3360, -3264, -3200, -3328, -3328, -3392, -3456, -3328, -3072, -3136, -3456, -3360, -3680, -3648,
    -4064, -3360, -3008, -3360, -3648, -3776, -3648, -3776, -3360, -3920, -3968, -3920, -3968, -3776, -2560, -2272,
    -2560, -2752, -2560, -2752, -2784, -2784, -2784, -2752, -3968, -3648, -3584, -3592, -3616, -3568, -3496, -3616,
    -3616, -3616, -3296, -3536, -3320, -3320, -3626, -3296, -3648, -3432, -3432, -3496, -3040, -2944, -3496, -3567,
    -3264, -3032, -3567, -3496, -3648, -3648, -3669, -3904, -3904, -3904, -3904, -3968, -3904, -3968, -3968, -3904,
    -3840, -3904, -3904, -3968, -3968, -3669, -3048, -2930, -3048, -3968, -3968, -4352, -4352, -4352, -4544, -4544,
    -4544, -4352, -4544, -4544, -4544, -4000, -4128, -4016, -4096, -4096, -4096, -4128, -4544, -4600, -4592, -4600,
    -4608, -4632, -4608, -4848, -4864, -4864, -4840, -4864, -4648, -4544, -3968, -4064
};

const short node_bbox_r_left[] = {
    1552, 1344, 1344, 1552, 1344, 1600, 1376, 1344, 1992, 1992, 1992, 1992, 1992, 1792, 1784, 1784,
    1984, 1664, 1664, 1664, 1792, 1784, 1784, 1984, 1784, 1664, 1664, 1992, 1664, 1896, 1664, 1664,
    1344, 1520, 1520, 1520, 1520, 1520, 1376, 1376, 1344, 1376, 2048, 2048, 2048, 1376, 1984, 1984,
    2048, 1376, 2048, 1344, 1344, 224, 192, 160, 160, -256, -256, -256, -256, -240, -192, -208,
    -240, -256, -640, -320, -640, -320, -640, -256, -256, -256, -640, -320, -256, -640, -64, -128,
    -64, -128, -128, -640, -640, -640, 128, 128, 64, 64, 128, -768, -768, 160, 928, 704,
    928, 1184, 1184, 704, 832, 704, 896, 928, 928, 1184, 928, 704, 928, 832, 704, 704,
    704, 704, 512, 288, 256, 256, 320, 320, 256, 256, 256, 320, 256, 496, 704, -768,
    1344, 2432, 2176, 2176, 2240, 2197, 2176, 2240, 2176, 2435, 2368, 2632, 2176, 2176, 2176, 2176,
    2336, 2336, 2176, 2176, 2496, 2624, 2496, 2176, 2176, 2752, 2752, 3352, 3104, 3312, 3242, 3104,
    3104, 3104, 2752, 2752, 2984, 2887, 2752, 2752, 3047, 3136, 3136, 3136, 3304, 3008, 3048, 3552,
    3496, 3345, 3552, 3008, 2752, 2944, 2752, 2752, 2816, 2752, 2880, 2944, 2752, 3328, 3328, 3520,
    3584, 3520, 3520, 3200, 2752, 2752, 2752, 2752, 2752, 2752, 2176, 2912, 2912, 2888, 2856, 2688,
    2912, 3104, 3104, 3160, 2688, 2944, 2944, 2944, 2240, 2368, 2176, 2944, 2688, 2944, 2944, 3024,
    2944, 2976, 2944, 2912, 2912, 3024, 2912, 2912, 2944, 2176, 2176, -768
};

const short node_bbox_r_right[] = {
    1664, 1472, 1536, 1664, 1384, 1664, 1664, 1664, 2144, 2176, 2176, 2176, 2176, 1984, 1792, 1984,
    1992, 1784, 1992, 1992, 1984, 1792, 1984, 1992, 1992, 1784, 1992, 2176, 2176, 2176, 2176, 2176,
    1664, 2128, 2128, 2128, 2128, 2176, 2176, 2176, 1376, 2176, 2176, 2176, 2176, 1984, 2016, 2176,
    2176, 1984, 2176, 2176, 2176, 256, 256, 256, 256, -128, -128, -240, -240, -208, -192, -192,
    -208, -128, -336, -256, -256, -256, -256, -128, -128, -128, -336, -256, -128, -128, -64, 64,
    64, 64, 64, -128, 64, 64, 160, 160, 128, 128, 160, 64, 64, 256, 1184, 896,
    1184, 1216, 1344, 1184, 1280, 1344, 928, 1344, 1184, 1216, 1184, 896, 1344, 1344, 1344, 1344,
    1344, 1344, 704, 320, 320, 320, 496, 496, 472, 496, 320, 496, 496, 704, 1344, 256,
    2176, 2736, 2272, 2736, 2736, 2240, 2240, 2736, 2752, 2688, 2688, 2720, 2688, 2752, 2208, 2336,
    2496, 2496, 2496, 2496, 2752, 2752, 2752, 2496, 2752, 2944, 2944, 3352, 3352, 3454, 3408, 3353,
    3454, 3512, 2976, 3112, 3280, 3280, 3215, 3008, 3512, 3472, 3472, 3472, 3320, 3048, 3472, 3680,
    3738, 3672, 3808, 3472, 3512, 3072, 2944, 2784, 2848, 2816, 2912, 3072, 2880, 3520, 3520, 3584,
    3616, 3680, 3680, 3520, 3072, 3808, 2960, 3048, 3048, 3808, 2752, 3104, 3104, 2912, 2912, 2856,
    3104, 3128, 3160, 3328, 3104, 3072, 3104, 3072, 2368, 2589, 2368, 3104, 3328, 2992, 3024, 3072,
    3072, 3040, 3072, 2992, 3024, 3104, 3104, 3104, 3072, 3328, 3808, 2176
};

// BBox: [top, bottom, left, right] for left child
const short node_bbox_l_top[] = {
    -2048, -2432, -2432, -2432, -2560, -2560, -2560, -2560, -2304, -2560, -2560, -2272, -2112, -2240, -2240, -2240,
    -2232, -2232, -2232, -2112, -2560, -2560, -2560, -2552, -2552, -2552, -2552, -2112, -2048, -2880, -2752, -2752,
    -2048, -3384, -3272, -3104, -3408, -3104, -3144, -2959, -3104, -3104, -3872, -3808, -3808, -3680, -3680, -3680,
    -3648, -3648, -3648, -3648, -2959, -3200, -3200, -3200, -3008, -3120, -2851, -3200, -3200, -3200, -3200, -3200,
    -3200, -3200, -3168, -3168, -3120, -2874, -2874, -2874, -3328, -3328, -3344, -3296, -3296, -3296, -3072, -3136,
    -2816, -3328, -3328, -2816, -2816, -2816, -3200, -3008, -3072, -3072, -3008, -3008, -2816, -2816, -3392, -3392,
    -3360, -3360, -3360, -3360, -3648, -3552, -3104, -3104, -3072, -3072, -3072, -3072, -2944, -2944, -2486, -2486,
    -2486, -2486, -3160, -3200, -3200, -3136, -3136, -3328, -3328, -3328, -3072, -3008, -3008, -3008, -3008, -2486,
    -2486, -3008, -3008, -3112, -3648, -3648, -3648, -3648, -3360, -3920, -3920, -3776, -3776, -3776, -2304, -2304,
    -2112, -2592, -2560, -2048, -2665, -2560, -2048, -2048, -2048, -3648, -3536, -3592, -3568, -3520, -3432, -3320,
    -3520, -3552, -2902, -3360, -3072, -3160, -3072, -3072, -2902, -3040, -3432, -2944, -2939, -2939, -2880, -3144,
    -3032, -3032, -2880, -2880, -2880, -2880, -2880, -3776, -3776, -3776, -3776, -3776, -3648, -3601, -3744, -3840,
    -3546, -3546, -3552, -3546, -3546, -3546, -2880, -2880, -2560, -2560, -2560, -4128, -4352, -4160, -4160, -4160,
    -4128, -4160, -4160, -4160, -4128, -4000, -4016, -4016, -3968, -4032, -3968, -3968, -3968, -4592, -4592, -4544,
    -4544, -4632, -4608, -4840, -4840, -4840, -4840, -4648, -4648, -4544, -3968, -2048
};

const short node_bbox_l_bot[] = {
    -2368, -2560, -2560, -2560, -2592, -2880, -2880, -2959, -2560, -2592, -2752, -2304, -2304, -2304, -2312, -2312,
    -2312, -2312, -2312, -2312, -2624, -2632, -2632, -2632, -2632, -2752, -2752, -2752, -2112, -2920, -2816, -3144,
    -3144, -3448, -3408, -3168, -3648, -3648, -3272, -3104, -3200, -3360, -3904, -3840, -3872, -3776, -3776, -3776,
    -3776, -3808, -3808, -4064, -4064, -3264, -3264, -3264, -3264, -3136, -3136, -3264, -3264, -3264, -3264, -3264,
    -3264, -3264, -3296, -3296, -3168, -3168, -3168, -3296, -3344, -3344, -3589, -3589, -3589, -3613, -3392, -3136,
    -3136, -3328, -3648, -3648, -3648, -3520, -3264, -3264, -3392, -3456, -3456, -3456, -3648, -3648, -3392, -3392,
    -3552, -3392, -3552, -3552, -3680, -3680, -3360, -3360, -3072, -3104, -3104, -3072, -3104, -2944, -2880, -3104,
    -3104, -3360, -3304, -3264, -3264, -3264, -3328, -3392, -3392, -3456, -3136, -3136, -3136, -3456, -3456, -3680,
    -3680, -3112, -3360, -3360, -3776, -3680, -3776, -3776, -3776, -3968, -3968, -3904, -3920, -3968, -2560, -2560,
    -2560, -2752, -2752, -2112, -2688, -2784, -2496, -2784, -2784, -3669, -3669, -3601, -3601, -3568, -3568, -3568,
    -3574, -3648, -3072, -3626, -3200, -3404, -3404, -3626, -3626, -3152, -3496, -3072, -3040, -3040, -3040, -3392,
    -3152, -3264, -3264, -3567, -3567, -3648, -3648, -3904, -3904, -3904, -3904, -3904, -3968, -3648, -3968, -3904,
    -3776, -3840, -3904, -3904, -3968, -3968, -2912, -3048, -2784, -3048, -3968, -4160, -4544, -4352, -4352, -4544,
    -4544, -4352, -4352, -4544, -4544, -4016, -4032, -4128, -4096, -4128, -4128, -4128, -4128, -4600, -4600, -4600,
    -4600, -4648, -4648, -4848, -4848, -4864, -4864, -4672, -4864, -4864, -4864, -4864
};

const short node_bbox_l_left[] = {
    1600, 1472, 1536, 1344, 1384, 1344, 1344, 1344, 2144, 1992, 1992, 1992, 1992, 1792, 1792, 1784,
    1784, 1784, 1664, 1664, 1792, 1792, 1784, 1784, 1784, 1784, 1664, 1664, 1664, 1664, 1664, 1664,
    1664, 1544, 2064, 1520, 1573, 1376, 2040, 1376, 1344, 1344, 2048, 2048, 2048, 1528, 2048, 1984,
    1984, 1984, 1376, 1376, 1344, 192, 160, 160, 160, -256, -256, -256, -256, -256, -256, -256,
    -256, -256, -336, -640, -640, -640, -640, -640, -256, -256, -336, -640, -640, -640, -64, -128,
    -128, -128, -128, -128, -640, -768, 128, 128, 64, 64, 64, 64, -768, -768, 928, 896,
    704, 1216, 1216, 1184, 1024, 832, 704, 704, 928, 1216, 1184, 896, 704, 704, 1216, 704,
    704, 704, 496, 256, 256, 256, 256, 256, 256, 256, 256, 256, 256, 256, 256, 256,
    -768, 2272, 2272, 2736, 2240, 2176, 2176, 2176, 2176, 2368, 2176, 2688, 2632, 2176, 2208, 2176,
    2176, 2176, 2176, 2176, 2496, 2496, 2496, 2496, 2176, 2944, 2752, 3352, 3352, 3352, 3312, 3242,
    3448, 3047, 2752, 2944, 2887, 2816, 2816, 2752, 2752, 3304, 3408, 3048, 3320, 3304, 3008, 3680,
    3400, 3400, 3345, 3345, 3008, 2752, 2752, 2784, 2848, 2816, 2912, 2880, 2880, 3353, 3200, 3584,
    3556, 3556, 3680, 3520, 3200, 2752, 2880, 2752, 2752, 2752, 2752, 2912, 2912, 2856, 2856, 2856,
    2688, 3128, 3104, 3104, 3104, 2944, 2944, 2944, 2176, 2912, 2368, 2176, 2176, 2992, 2944, 2944,
    2944, 2976, 2976, 2992, 2912, 2912, 2912, 2976, 2912, 2912, 2176, 2176
};

const short node_bbox_l_right[] = {
    1664, 1536, 1552, 1552, 1472, 1472, 1664, 1664, 2176, 2112, 2176, 2112, 2176, 1984, 1984, 1984,
    1984, 1992, 1992, 1992, 1984, 1984, 1984, 1984, 1992, 1992, 1992, 1992, 2176, 1920, 2176, 2176,
    2176, 1784, 2128, 1672, 2176, 1573, 2128, 1896, 1376, 1376, 2176, 2176, 2176, 1984, 2176, 2176,
    2176, 2176, 2176, 2176, 2176, 224, 192, 256, 256, -128, -128, -192, -192, -192, -192, -192,
    -192, -192, -320, -320, -336, -256, -256, -256, -128, -128, -256, -256, -256, -128, 64, -64,
    64, -64, 64, 64, 64, -640, 160, 160, 128, 128, 128, 160, 160, 160, 1184, 928,
    928, 1344, 1344, 1344, 1088, 1280, 896, 928, 1184, 1344, 1344, 928, 928, 832, 1344, 1344,
    1344, 1344, 512, 288, 320, 320, 320, 320, 496, 496, 320, 320, 496, 496, 704, 1344,
    1344, 2432, 2736, 2752, 2736, 2208, 2240, 2240, 2736, 2672, 2240, 2752, 2752, 2752, 2304, 2304,
    2336, 2336, 2496, 2496, 2520, 2752, 2560, 2752, 2752, 2944, 2944, 3353, 3353, 3448, 3454, 3454,
    3512, 3264, 3008, 3215, 3136, 3280, 3280, 3280, 3280, 3400, 3472, 3304, 3345, 3345, 3345, 3808,
    3456, 3738, 3738, 3808, 3808, 3808, 3808, 2816, 2880, 2880, 2944, 2944, 3072, 3360, 3328, 3680,
    3680, 3680, 3744, 3744, 3744, 3744, 2880, 2960, 2944, 3048, 3808, 3104, 3104, 2888, 2912, 2912,
    2912, 3160, 3160, 3160, 3328, 3072, 3072, 3104, 2240, 2944, 2944, 2944, 3104, 3024, 3024, 3024,
    3072, 3040, 3040, 3024, 3024, 3024, 3104, 3040, 3104, 3104, 3328, 3808
};

// Children: right and left (0x8000 flag marks subsector)
const short node_child_r[] = {
    32768, 32770, 1, 0, 32775, 32774, 32773, 3, 32777, 32779, 8, 32781, 10, 32789, 32788, 32787,
    32786, 32785, 32784, 32783, 32796, 32795, 32794, 32793, 32792, 32791, 19, 12, 27, 32799, 29, 28,
    7, 32802, 33, 34, 35, 36, 37, 38, 32810, 39, 32812, 32814, 42, 32816, 32820, 32819,
    32818, 45, 44, 41, 32, 32824, 53, 32823, 32822, 32830, 32829, 32837, 32836, 32835, 32834, 32833,
    32832, 58, 32840, 32839, 32843, 32842, 67, 65, 32846, 32845, 32849, 32848, 73, 71, 32851, 32853,
    78, 32855, 80, 77, 32828, 84, 32859, 32858, 32862, 32861, 87, 85, 32827, 56, 32864, 32866,
    94, 32868, 97, 96, 32871, 99, 32874, 32873, 32876, 32878, 104, 32880, 106, 32882, 109, 108,
    103, 101, 32885, 32890, 32889, 32888, 32887, 32893, 32892, 118, 32896, 32895, 121, 114, 113, 93,
    52, 32899, 32898, 130, 32902, 32905, 32904, 132, 131, 32907, 137, 32910, 138, 136, 32914, 32913,
    32912, 32916, 144, 146, 32920, 32919, 149, 147, 141, 32924, 32923, 32928, 32927, 32931, 32930, 156,
    159, 160, 32935, 32937, 32939, 164, 163, 162, 161, 32942, 169, 170, 32947, 32946, 171, 32949,
    32952, 32951, 175, 174, 168, 32926, 154, 32954, 32956, 183, 32959, 32958, 185, 32961, 189, 32964,
    32966, 191, 193, 190, 188, 182, 32970, 32969, 199, 197, 152, 32973, 203, 32978, 32977, 32976,
    204, 32982, 32981, 32980, 208, 32984, 32986, 213, 32988, 32990, 216, 215, 212, 32995, 32994, 32993,
    32992, 32997, 224, 33002, 33001, 33000, 32999, 230, 226, 220, 202, 128
};

const short node_child_l[] = {
    32769, 32771, 32772, 2, 32776, 4, 5, 6, 32778, 32780, 9, 32782, 11, 32790, 13, 14,
    15, 16, 17, 18, 32797, 20, 21, 22, 23, 24, 25, 26, 32798, 32800, 32801, 30,
    31, 32803, 32804, 32805, 32806, 32807, 32808, 32809, 32811, 40, 32813, 32815, 43, 32817, 32821, 46,
    47, 48, 49, 50, 51, 32825, 32826, 54, 55, 32831, 57, 32838, 59, 60, 61, 62,
    63, 64, 32841, 66, 32844, 68, 69, 70, 32847, 72, 32850, 74, 75, 76, 32852, 32854,
    79, 32856, 81, 82, 83, 32857, 32860, 86, 32863, 88, 89, 90, 91, 92, 32865, 32867,
    95, 32869, 32870, 98, 32872, 100, 32875, 102, 32877, 32879, 105, 32881, 107, 32883, 32884, 110,
    111, 112, 32886, 32891, 115, 116, 117, 32894, 119, 120, 32897, 122, 123, 124, 125, 126,
    127, 32900, 129, 32901, 32903, 32906, 133, 134, 135, 32908, 32909, 32911, 139, 140, 32915, 142,
    143, 32917, 145, 32918, 32921, 148, 32922, 150, 151, 32925, 153, 32929, 155, 32932, 157, 158,
    32933, 32934, 32936, 32938, 32940, 32941, 165, 166, 167, 32943, 32944, 32945, 32948, 172, 173, 32950,
    32953, 176, 177, 178, 179, 180, 181, 32955, 32957, 184, 32960, 186, 187, 32962, 32963, 32965,
    32967, 192, 32968, 194, 195, 196, 32971, 198, 32972, 200, 201, 32974, 32975, 32979, 205, 206,
    207, 32983, 209, 210, 211, 32985, 32987, 214, 32989, 32991, 217, 218, 219, 32996, 221, 222,
    223, 32998, 225, 33003, 227, 228, 229, 33004, 231, 232, 233, 234
};

#endif // LEVEL_H